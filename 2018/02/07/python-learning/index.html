<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="learning note,Python," />





  <link rel="alternate" href="/atom.xml" title="Hael's Blog" type="application/atom+xml" />






<meta name="description" content="ForewordWhatLearning Python by myself. Here’s some environment configuration:Version: Python 3.6.3Platform: macOS 10.12.6Interpreter: terminalText editor: Sublime Text 3Notebook: Jupyter Notebook Why">
<meta name="keywords" content="learning note,Python">
<meta property="og:type" content="article">
<meta property="og:title" content="Python Learning">
<meta property="og:url" content="http://haelchan.me/2018/02/07/python-learning/index.html">
<meta property="og:site_name" content="Hael&#39;s Blog">
<meta property="og:description" content="ForewordWhatLearning Python by myself. Here’s some environment configuration:Version: Python 3.6.3Platform: macOS 10.12.6Interpreter: terminalText editor: Sublime Text 3Notebook: Jupyter Notebook Why">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2018-09-27T09:02:46.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Python Learning">
<meta name="twitter:description" content="ForewordWhatLearning Python by myself. Here’s some environment configuration:Version: Python 3.6.3Platform: macOS 10.12.6Interpreter: terminalText editor: Sublime Text 3Notebook: Jupyter Notebook Why">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://haelchan.me/2018/02/07/python-learning/"/>





  <title>Python Learning | Hael's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hael's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://haelchan.me/2018/02/07/python-learning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hael Chan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hael's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">Python Learning</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-07T23:02:37+08:00">
                2018-02-07
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2018-09-27T17:02:46+08:00">
                2018-09-27
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/02/07/python-learning/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/02/07/python-learning/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/02/07/python-learning/" class="leancloud_visitors" data-flag-title="Python Learning">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Foreword"><a href="#Foreword" class="headerlink" title="Foreword"></a>Foreword</h2><h3 id="What"><a href="#What" class="headerlink" title="What"></a>What</h3><p>Learning Python by myself.</p>
<p>Here’s some environment configuration:<br>Version: Python 3.6.3<br>Platform: macOS 10.12.6<br>Interpreter: terminal<br>Text editor: Sublime Text 3<br>Notebook: Jupyter Notebook</p>
<h3 id="Why"><a href="#Why" class="headerlink" title="Why"></a>Why</h3><ul>
<li>Self interest</li>
<li>Courses Prerequisites: CS229, Deep Learning, etc</li>
<li>(Perhaps next semester I have the chance to teach freshman something about Python:D)</li>
</ul>
<h3 id="How"><a href="#How" class="headerlink" title="How"></a>How</h3><p>Material: </p>
<ul>
<li><a href="https://docs.python.org/3/tutorial/index.html" target="_blank" rel="external">The Python Tutorial</a>: Official documentation</li>
<li><a href="http://cs231n.github.io/python-numpy-tutorial/" target="_blank" rel="external">Python Numpty Tutorial</a>: Quick introduction to Python and Numpy provided by Stanford</li>
<li><a href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000" target="_blank" rel="external">Python教程</a>: Chinese Python tutorial</li>
<li><a href="https://www.codestepbystep.com" target="_blank" rel="external">CodeStepByStep</a>: Code practice online</li>
<li><a href="https://docs.python.org/3/" target="_blank" rel="external">Python 3.6.4 documentation</a>(It has been updated to 3.7.0 now:D)</li>
<li><a href="http://www.nltk.org/book/" target="_blank" rel="external">Natural Language Processing with Python - Analyzing Text with the Natural Language Toolkit</a> (When learning NLTK, I also improve my Python skill as well)</li>
</ul>
<p>These materials should be enough. What I use is the official tutorial to get an detailed understanding of Python and Python’s most noteworthy features, and get a good idea of the language’s flavor and style. </p>
<h3 id="When"><a href="#When" class="headerlink" title="When"></a>When</h3><p>I plan to get the hang of Python in my winter vacation.<br>Try to get more familiar with Python with practical applications.</p>
<h2 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h2><h3 id="Interactive-Mode-amp-Executable-mode"><a href="#Interactive-Mode-amp-Executable-mode" class="headerlink" title="Interactive Mode &amp; Executable mode"></a>Interactive Mode &amp; Executable mode</h3><p>When commands are read from a tty, the interpreter is said to be in <em>interactive mode</em>. To start interactive mode, type <code>Python3</code> in terminal(the default Python version of macOS is Python2, so type <code>Python</code> would start Python2). To stop interactive mode, type <code>exit()</code> to quit.</p>
<p>If code is saved as file with <code>.py</code>, then type <code>Python3 filename.py</code> in terminal to compile and run the file.</p>
<p>On BSD’ish Unix systems, Python scripts can be made directly executable, like shell scripts, by putting the line <code>#!/usr/bin/env python3</code>.<br>The script can be given an executable mode, or permission, using the <code>chmod +x script.py</code> command.<br>On Windows systems, there is no notion of an “executable mode”. The Python installer automatically associates <code>.py</code> files with <code>python.exe</code> so that a double-click on a Python file will run it as a script. The extension can also be <code>pyw</code>, in that case, the console window that normally appears is suppressed.</p>
<h3 id="Comment-amp-Prompt"><a href="#Comment-amp-Prompt" class="headerlink" title="Comment &amp; Prompt"></a>Comment &amp; Prompt</h3><p><strong>Comment</strong><br>Comments in Python start with the hash character, #, and extend to the end of the physical line.<br>The <code>#</code> sign will only comment out a single line, if it’s necessary to add multi-line comments, just begin with <code>#</code> each line. (For multi-line comments, include the whole block in a set of triple quotation marks is okay in .py file, but not interactive mode.)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># This is a comment.</span></div><div class="line"><span class="comment"># Here's another</span></div></pre></td></tr></table></figure>
<p><strong>Prompt</strong><br>When commands are read from a tty, the interpreter is said to be in interactive mode. In this mode it prompts for the next command with the <em>primary prompt</em>, usually three greater-than signs (<code>&gt;&gt;&gt;</code>); for continuation lines it prompts with the <em>secondary prompt</em>, by default three dots (<code>...</code>).<br>Generally the prompts are primary prompt. Secondary prompts are used in control flow like <code>if</code>, <code>while</code>, etc.<br><em>Primary prompt</em> (after <code>python3</code> command in my terminal): </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ python3</div><div class="line">Python <span class="number">3.6</span><span class="number">.3</span> (default, Oct <span class="number">28</span> <span class="number">2017</span>, <span class="number">21</span>:<span class="number">24</span>:<span class="number">10</span>) </div><div class="line">[GCC <span class="number">4.2</span><span class="number">.1</span> Compatible Apple LLVM <span class="number">8.1</span><span class="number">.0</span> (clang<span class="number">-802.0</span><span class="number">.42</span>)] on darwin</div><div class="line">Type <span class="string">"help"</span>, <span class="string">"copyright"</span>, <span class="string">"credits"</span> <span class="keyword">or</span> <span class="string">"license"</span> <span class="keyword">for</span> more information.</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure>
<p><em>Secondary prompt</em> (example from tutorial):</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>the_world_is_flat = <span class="keyword">True</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">if</span> the_world_is_flat:</div><div class="line"><span class="meta">... </span>    print(<span class="string">"Be careful not to fall off!"</span>)</div><div class="line">...</div><div class="line">Be careful <span class="keyword">not</span> to fall off!</div></pre></td></tr></table></figure>
<h3 id="Input-and-Output"><a href="#Input-and-Output" class="headerlink" title="Input and Output"></a>Input and Output</h3><p>Well, this part is not introduced in tutorial, but when dealing with online practice(like CodeStepByStep), it’s necessary to know how to input and output. So I’d include some information here.</p>
<p><strong>Input:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">It&apos;s advisable to add some prompts when asking for input, so we can add string parameters when calling `input` function. ```x = input(&quot;prompts&quot;)</div></pre></td></tr></table></figure></p>
<p>The default type of x is string. If we input an integer and what to use x as an integer, use type conversion with <code>int()</code>. <code>x = int(input(&quot;prompts&quot;))</code></p>
<p><strong>Output:</strong><br>Just like MATLAB, we can output a variable’s value by typing the variable’s name, or use the <code>print()</code> function.<br>When concatenating strings in <code>print()</code>, we can use both <code>,</code> and <code>+</code>. When using <code>,</code>, we don’t need to convert int/float to string, and every <code>,</code> is treated as a blank space; while we need to convert int/float to string using <code>str()</code> when using <code>+</code>, but <code>+</code> won’t add extra blank space.<br><a href="https://docs.python.org/3/library/stdtypes.html#printf-style-bytes-formatting" target="_blank" rel="external">printf-style</a></p>
<h4 id="format"><a href="#format" class="headerlink" title="format"></a>format</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'We are the &#123;&#125; who say "&#123;&#125;!"'</span>.format(<span class="string">'knights'</span>, <span class="string">'Ni'</span>))</div><div class="line">We are the knights who say <span class="string">"Ni!"</span></div></pre></td></tr></table></figure>
<p>The brackets and characters within them (called format fields) are replaced with the objects passed into the <code>str.format()</code> method. </p>
<p><strong>Positional arguments</strong><br>A number in the brackets can be used to refer to the position of the object passed into the <code>str.format()</code> method.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;0&#125; and &#123;1&#125;'</span>.format(<span class="string">'spam'</span>, <span class="string">'eggs'</span>))</div><div class="line">spam <span class="keyword">and</span> eggs</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;1&#125; and &#123;0&#125;'</span>.format(<span class="string">'spam'</span>, <span class="string">'eggs'</span>))</div><div class="line">eggs <span class="keyword">and</span> spam</div></pre></td></tr></table></figure>
<p><strong>Keyword arguments</strong><br>If keyword arguments are used in the <code>str.format()</code> method, their values are referred to by using the name of the argument.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'This &#123;food&#125; is &#123;adjective&#125;.'</span>.format(</div><div class="line"><span class="meta">... </span>      food=<span class="string">'spam'</span>, adjective=<span class="string">'absolutely horrible'</span>))</div><div class="line">This spam <span class="keyword">is</span> absolutely horrible.</div></pre></td></tr></table></figure>
<p>Positional and keyword arguments can be arbitrarily combined.</p>
<p><strong>Old string formatting</strong><br>The <code>%</code> operator can also be used for string formatting. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> math</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'The value of PI is approximately %5.3f.'</span> % math.pi)</div><div class="line">The value of PI <span class="keyword">is</span> approximately <span class="number">3.142</span>.</div></pre></td></tr></table></figure>
<p><a href="https://docs.python.org/3/library/stdtypes.html#old-string-formatting" target="_blank" rel="external">printf-style String Formatting</a></p>
<h3 id="Coding-Style"><a href="#Coding-Style" class="headerlink" title="Coding Style"></a>Coding Style</h3><p><a href="https://www.python.org/dev/peps/pep-0008/" target="_blank" rel="external">PEP 8 - Style Guide for Python Code</a></p>
<ul>
<li>Use 4-space indentation, and no tabs.</li>
<li>Wrap lines so that they don’t exceed 79 characters.</li>
<li>Use blank lines to separate functions and classes, and larger blocks of code inside functions.</li>
<li>When possible, put comments on a line of their own.</li>
<li>Use docstrings.</li>
<li>Use spaces around operators and after commas, but not directly inside bracketing constructs: <code>a = f(1, 2) + g(3, 4)</code></li>
<li>Name your classes and functions consistently; the convention is to <code>CamelCase</code> for classes and <code>lower_case_with_underscores</code> for functions and methods. Always use <code>self</code> as the name for the first method argument.</li>
<li>Don’t use fancy encodings if your code is meant to be used in international environments. Python’s default, UTF-8, or even plain ASCII work best in any case.</li>
<li>Likewise, don’t use non-ASCII characters in identifiers if there is only the slightest chance people speaking a different language will read or maintain the code.</li>
</ul>
<h3 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h3><p>Python interpreter can act as a simple calculator. So just type math expressions will get the calculation result.</p>
<p><strong>Data type</strong><br><code>int</code><br><code>float</code></p>
<p><code>Decimal</code><br><code>Fraction</code></p>
<p>Complex numbers: use <code>j</code> or <code>J</code> suffix to indicate the imaginary part(e.g. <code>3+5j</code>).</p>
<p><strong>Operation</strong><br><code>+</code>: Addition. <code>2 + 2 = 4</code><br><code>-</code>: Subtract. <code>3 - 1 = 2</code><br><code>*</code>: Multiply. <code>2 * 2 = 4</code><br><code>**</code>: Power. <code>2 ** 7 = 128</code><br><code>/</code>: Division. <strong><em>Always returns a float.</em></strong> <code>10 / 3 = 3.3333333333333335</code><br><code>//</code>: Floor division. Discard any fractional result and get an integer result.</p>
<p><code>_</code>: Last printed expression(easier to continue calculations).</p>
<h3 id="Conditions"><a href="#Conditions" class="headerlink" title="Conditions"></a>Conditions</h3><p><strong>Comparison</strong><br><code>&lt;</code> less than, <code>&gt;</code> greater than, <code>==</code> equal to, <code>&lt;=</code> less than or equal to, <code>&gt;=</code> greater than, <code>!=</code> not equal to<br><code>in</code> and <code>not in</code> check whether a value occurs (does not occur) in a sequence.<br><code>is</code> and <code>is not</code> compare whether two objects are really the same object; this only matters for mutable objects like lists.</p>
<p>Boolean<br><code>and</code>, <code>or</code>, <code>not</code><br><code>True</code>, <code>False</code>.<br>Any non-zero integer value is true; zero is false. The condition may also be any sequence(string, list, etc): anything with a non-zero length is true, empty sequences are false.<br>short-circuit.</p>
<h3 id="Strings"><a href="#Strings" class="headerlink" title="Strings"></a>Strings</h3><p>Strings in Python can be enclosed in both single quotes and double quotes. </p>
<p><strong>Escape character</strong><br>Just like C, <code>\</code> can be used to escape quotes in Python as well. <code>\t</code>,<code>\n</code>,etc.</p>
<p>Use <em>raw strings</em> by adding an <code>r</code> before the first quote can prevent <code>\</code> from being treated as special characters. Often used in regular expressions.(See notes about regular expressions <a href="http://haelchan.me/2018/05/23/regular-expression/">here</a>)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">r'C:\some\name'</span>)</div><div class="line">C:\some\name</div></pre></td></tr></table></figure>
<p><strong>Concatenating</strong><br>Strings can be concatenated with <code>+</code> operator, and repeated with <code>*</code>.<br>For <em>string literals</em>(i.e. the ones enclosed between quotes) next to each other are automatically concatenated.<br>Remember to use <code>str()</code> when concatenating strings and other data types(e.g. int).<br><code>s.join()</code> can combine the words of the text into a string using <code>s</code> as the glue.</p>
<p><strong>Index</strong><br>Indices of strings can be non-negative(just like C array) and negative(start counting from the right).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"> +---+---+---+---+---+---+</div><div class="line"> | P | y | t | h | o | n |</div><div class="line"> +---+---+---+---+---+---+</div><div class="line"> 0   1   2   3   4   5   6</div><div class="line">-6  -5  -4  -3  -2  -1</div></pre></td></tr></table></figure>
<p><strong>Slicing</strong><br>Like MATLAB, Python supports slicing(<code>word[0:2]</code>), which allows to obtain substring.<br>Note the start is always included, and the end always excluded.<br>Default: an omitted first index defaults to zero, an omitted second index defaults to the size of the string being sliced.</p>
<p>Attempting to use an index that is too large will result in an error. However, out of range slice indexes are handled gracefully when used for slicing.</p>
<p><strong>Substring</strong><br>We test if a string contains a particular substring using the <code>in</code> operator.<br>We can also find the position of a substring with a string, using <code>find()</code>.<br><code>s.find(t)</code>: index of first instance of string <code>t</code> inside <code>s</code> (<code>-1</code> if not found)<br><code>s.rfind(t)</code>: index of last instance of string <code>t</code> inside <code>s</code> (<code>-1</code> if not found)<br><code>s.index(t)</code>: like <code>s.find(t)</code> except it raises <code>ValueError</code> if not found<br><code>s.rindex(t)</code>: like <code>s.rfind(t)</code> except it raises <code>ValueError</code> if not found</p>
<p><strong>Immutable</strong><br>Python strings are immutable, just as in Java. Thus, if it’s necessary to edit a string, just create a new one.</p>
<p><strong>Multi-lines</strong><br>This is introduced in <a href="http://www.nltk.org/book/ch03.html" target="_blank" rel="external">NLTK’book Chapter 3</a><br>Sometimes strings go over several lines. Python provides us with various ways of entering them. In the next example, a sequence of two strings is joined into a single string. We need to use backslash or parentheses so that the interpreter knows that the statement is not complete after the first line.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">ex1 = <span class="string">"This is example using "</span>\</div><div class="line">      <span class="string">"backslash"</span></div><div class="line">ex2 = (<span class="string">"This is example using"</span></div><div class="line">       <span class="string">"parentheses."</span>)</div><div class="line"><span class="comment"># the above methods won't add newline '\n' to the string</span></div><div class="line"></div><div class="line">ex3 = <span class="string">'''hello</span></div><div class="line"><span class="string">         world'''</span></div><div class="line"><span class="comment"># Using triple-quoted string helps to add newline to the string</span></div></pre></td></tr></table></figure>
<p><strong>Others</strong><br>The built-in function <code>len()</code> returns the length of a string.<br><a href="https://docs.python.org/3.6/library/stdtypes.html?highlight=upper#string-methods" target="_blank" rel="external">String Methods</a></p>
<p><code>s.startswith(t)</code>: test if <code>s</code> starts with <code>t</code><br><code>s.endswith(t)</code>: test if <code>s</code> ends with <code>t</code><br><code>t in s</code>: test if t is a substring of s<br><code>s.islower()</code>: test if <code>s</code> contains cased characters and all are lowercase<br><code>s.isupper()</code>: test if <code>s</code> contains cased characters and all are uppercase<br><code>s.isalpha()</code>: test if <code>s</code> is non-empty and all characters in <code>s</code> are alphabetic<br><code>s.isalnum()</code>: test if <code>s</code> is non-empty and all characters in <code>s</code> are alphanumeric<br><code>s.isdigit()</code>: test if <code>s</code> is non-empty and all characters in <code>s</code> are digits<br><code>s.istitle()</code>: test if <code>s</code> contains cased characters and is titlecased (i.e. all words in <code>s</code> have initial capitals)</p>
<p><code>title()</code>: convert the first character in each word to uppercase and remaining characters to lowercase in string and returns new string<br><code>upper()</code>: convert all characters to uppercase<br><code>lower()</code>: convert all characters to lowercase</p>
<p><code>rstrip()</code>: returns a copy of the string with trailing characters removed.<br><code>lstrip()</code>: returns a copy of the string with leading characters removed.<br><code>strip()</code>: returns a copy of the string with the leading and trailing characters removed.</p>
<p><code>replace(t, u)</code>: replace instances of <code>t</code> with <code>u</code>.</p>
<h3 id="Control-Flow"><a href="#Control-Flow" class="headerlink" title="Control Flow"></a>Control Flow</h3><p><strong>if Statement</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> ... :</div><div class="line">    ...</div><div class="line"><span class="keyword">elif</span> ... :</div><div class="line">    ...</div><div class="line"><span class="keyword">else</span>:</div><div class="line">    ...</div></pre></td></tr></table></figure>
<p>There can be zero or more <code>elif</code> parts, and the <code>else</code> part is optional.<br>Note there’s no <code>switch</code> <code>case</code> in Python.</p>
<p><strong>for Statement</strong><br>Python’s <code>for</code> statement iterates over the items of any sequence(a list or a string), in the order that they appear in the sequence.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># Measure some strings:</span></div><div class="line"><span class="meta">... </span>words = [<span class="string">'cat'</span>, <span class="string">'window'</span>, <span class="string">'defenestrate'</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> w <span class="keyword">in</span> words:</div><div class="line"><span class="meta">... </span>    print(w, len(w))</div><div class="line"><span class="meta">... </span></div><div class="line">cat <span class="number">3</span></div><div class="line">window <span class="number">6</span></div><div class="line">defenestrate <span class="number">12</span></div></pre></td></tr></table></figure>
<p><strong>The range() Function</strong><br><code>for i in range(5)</code><br><code>range()</code> function may contain 1, 2 or 3 parameters.<br><code>range(term)</code>: Generate <em>term</em> values from 0 to <em>(term - 1)</em>. Note that term should be positive integers or it will return an empty list.<br><code>range(begin, end)</code>: Generate values from <em>begin</em> to <em>(end - 1)</em>.<br><code>range(begin, end, step)</code>: Specify a different increment(step), which can even be negative.</p>
<p>In many ways the object returned by <code>range()</code> behaves as if it is a list, but in fact it isn’t. It is an object which returns the successive items of the desired sequence when you iterate over it, but it doesn’t really make the list, thus saving space.<br>We say such an object is <strong><em>iterable</em></strong>, that is, suitable as a target for functions and constructs that expect something from which they can obtain successive items until the supply is exhausted.</p>
<p><strong>break and continue Statements, and else Clauses on Loops</strong></p>
<p>The <code>break</code> statement breaks out of the innermost enclosing <code>for</code> or <code>while</code> loop.<br>The <code>continue</code> statement continues with the next iteration of the loop.<br>These two statements are borrowed from C.</p>
<p>Loop statements may have an <code>else</code> clause; it is executed when the loop terminates through exhaustion of the list (with <code>for</code>) or when the condition becomes false (with <code>while</code>), but not when the loop is terminated by a <code>break</code> statement.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> n <span class="keyword">in</span> range(<span class="number">2</span>, <span class="number">10</span>):</div><div class="line"><span class="meta">... </span>    <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">2</span>, n):</div><div class="line"><span class="meta">... </span>        <span class="keyword">if</span> n % x == <span class="number">0</span>:</div><div class="line"><span class="meta">... </span>            print(n, <span class="string">'equals'</span>, x, <span class="string">'*'</span>, n//x)</div><div class="line"><span class="meta">... </span>            <span class="keyword">break</span></div><div class="line"><span class="meta">... </span>    <span class="keyword">else</span>:</div><div class="line"><span class="meta">... </span>        <span class="comment"># loop fell through without finding a factor</span></div><div class="line"><span class="meta">... </span>        print(n, <span class="string">'is a prime number'</span>)</div><div class="line">...</div><div class="line"><span class="number">2</span> <span class="keyword">is</span> a prime number</div><div class="line"><span class="number">3</span> <span class="keyword">is</span> a prime number</div><div class="line"><span class="number">4</span> equals <span class="number">2</span> * <span class="number">2</span></div><div class="line"><span class="number">5</span> <span class="keyword">is</span> a prime number</div><div class="line"><span class="number">6</span> equals <span class="number">2</span> * <span class="number">3</span></div><div class="line"><span class="number">7</span> <span class="keyword">is</span> a prime number</div><div class="line"><span class="number">8</span> equals <span class="number">2</span> * <span class="number">4</span></div><div class="line"><span class="number">9</span> equals <span class="number">3</span> * <span class="number">3</span></div></pre></td></tr></table></figure>
<p><strong>pass Statements</strong><br>The <code>pass</code> statement does nothing. It can be used when a statement is required syntactically but the program requires no action.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line"><span class="meta">... </span>    <span class="keyword">pass</span>  <span class="comment"># Busy-wait for keyboard interrupt (⌃+C)</span></div><div class="line">...</div></pre></td></tr></table></figure>
<p>This is commonly used for creating minimal classes:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">MyEmptyClass</span>:</span></div><div class="line"><span class="meta">... </span>    <span class="keyword">pass</span></div><div class="line">...</div></pre></td></tr></table></figure>
<p><code>pass</code> can be used as a place-holder for a function or conditional body when you are working on new code, allowing you to keep thinking at a more abstract level.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">initlog</span><span class="params">(*args)</span>:</span></div><div class="line"><span class="meta">... </span>    <span class="keyword">pass</span>   <span class="comment"># Remember to implement this!</span></div><div class="line">...</div></pre></td></tr></table></figure>
<h3 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h3><p><a href="https://docs.python.org/3/glossary.html#term-function" target="_blank" rel="external">Detail</a><br>The keyword <code>def</code> introduces a function <em>definition</em>. It must be followed by the function name and the parenthesized list of formal parameters. The statements that form the body of the function start at the next line, and must be indented.</p>
<p><strong>docstring</strong><br>The first statement of the function body can optionally be a string literal(in three single quotes <code>&#39;&#39;&#39; &#39;&#39;&#39;</code>); this string literal is the function’s documentation string, or docstring. This line should begin with a capital letter and end with a period.<br>Docstrings can include a doctest block, illustrating the use of the function and the expected output. These can be tested automatically using Python’s <code>docutils</code> module. Docstrings should document the type of each parameter to the function, and the return type. At a minimum, that can be done in plain text.</p>
<p><strong>call by value</strong><br>The actual parameters (arguments) to a function call are introduced in the local symbol table of the called function when it is called; thus, arguments are passed using <em>call by value</em> (where the value is always an object reference, not the value of the object). When a function calls another function, a new local symbol table is created for that call.<br>Actually, <em>call by object reference</em> would be a better description, since if a mutable object is passed, the caller will see any changes the callee makes to it (items inserted into a list).</p>
<p><strong>return</strong><br>The <code>return</code> statement returns with a value from a function. <code>return</code> without an expression argument returns <code>None</code>. Falling off the end of a function also returns <code>None</code>.</p>
<p><strong>default argument values</strong><br>When defining functions, it’s useful to specify a default value for one or more arguments. This creates a function that can be called with fewer arguments than it is defined to allow.<br>Remember that the default value is evaluated only once. </p>
<p><strong>keyword argument &amp; positional argument</strong><br>From <a href="https://docs.python.org/3/glossary.html#term-argument" target="_blank" rel="external">Glossary</a><br>A value passed to a <code>function</code>(or <code>method</code>) when calling the function. There are two kinds of argument:<br>· <em>keyword argument</em>. an argument preceded by an identifier(e.g. <code>name=</code>) in a function call or passed as a value in a dictionary preceded by <code>**</code>.<br>· <em>positional argument</em>. an argument that is not a keyword argument. Positional arguments can appear at the beginning of an argument list and/or be passed as elements of an <code>iterable</code> preceded by <code>*</code>.</p>
<p>When a final formal parameter of the form <code>**name</code> is present, it receives a dictionary containing all keyword arguments except for those corresponding to a formal parameter. This may be combined with a formal parameter of the form <code>*name</code> (described in the next subsection) which receives a tuple containing the positional arguments beyond the formal parameter list. (<code>*name</code> must occur before <code>**name</code>.)</p>
<h2 id="Data-Structures"><a href="#Data-Structures" class="headerlink" title="Data Structures"></a>Data Structures</h2><p>Sequence Types - list, tuple, range<br>Set Types - set, frozenset<br>Mapping Types - dict</p>
<h3 id="Lists"><a href="#Lists" class="headerlink" title="Lists"></a>Lists</h3><p>List can be written as a list of comma-separated values (items) between square brackets. (similar to Java’s ArrayList)<br>Lists might contain items of different types, but usually the items all have the same type. <code>squares = [1, 4, 9, 16, 25]</code><br>It’s a good choice to name the list variable with plurals.<br>Index and slicing are similar to those of String.</p>
<p><strong>Mutable</strong><br>Lists are a mutable type, i.e. it is possible to change their content. Just use the index to change the content(like array in C).</p>
<p><strong>Concatenation</strong><br><code>+</code> operator: <code>squares + [36, 49]</code><br><code>append</code> method: <code>squares.append(64)</code></p>
<p><strong>Insert</strong><br>Use <code>insert()</code> to add elements in the specified location.<br>Use <code>append()</code> to add elements to the end of the list.</p>
<p><strong>Delete</strong><br>Use <code>del</code> if the index of element is known. <code>del a[0]</code></p>
<p><strong>Methods of list objects</strong><br><code>list.append(x)</code><br>Add an item to the end of the list. Equivalent to <code>a[len(a):] = [x]</code>.</p>
<p><code>list.extend(iterable)</code><br>Extend the list by appending all the items from the iterable. Equivalent to <code>a[len(a):] = iterable</code>.</p>
<p><code>list.insert(i,x)</code><br>Insert an item at a given position. The first argument is the index of the element <em>before</em> which to insert, so <code>a.insert(0, x)</code> inserts at the front of the list, and <code>a.insert(len(a), x)</code> is equivalent to <code>a.append(x)</code></p>
<p><code>list.remove(x)</code><br>Remove the first item from the list whose value is x. It is an error if there is no such item.</p>
<p><code>list.pop([i])</code><br>Remove the item at the given position in the list, and return it. If no index is specified, <code>a.pop()</code> removes and returns the last item in the list.</p>
<p><code>list.index(x[, start[, end]])</code><br>Return zero-based index in the list of the first item whose value is x. Raises a <code>ValueError</code> if there is no such item.<br>The optional arguments <em>start</em> and <em>end</em> are interpreted as in the slice notation and are used to limit the search to a particular subsequence of the list. The returned index is computed relative to the beginning of the full sequence rather than the <em>start</em> argument.</p>
<p><code>list.count(x)</code><br>Return the number of times <em>x</em> appears in the list.</p>
<p><code>list.sort()</code><br>Sort the items of the list in place.</p>
<p><code>list.reverse()</code><br>Reverse the elements of the list in place.</p>
<p><code>list.copy()</code><br>Return a shallow copy of the list. Equivalent to <code>a[:]</code>.</p>
<p><strong>List Comprehensions</strong><br>List comprehensions provide a concise way to create lists.<br>A list comprehension consists of brackets containing an expression followed by a <code>for</code> clause, then zero or more <code>for</code> of <code>if</code> clauses. The result will be a new list resulting from evaluating the expression in the context of the <code>for</code> and <code>if</code> clauses which follow it.<br>E.g:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>squares = []</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>):</div><div class="line"><span class="meta">... </span>    squares.append(x**<span class="number">2</span>)</div><div class="line">...</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>squares</div><div class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>, <span class="number">36</span>, <span class="number">49</span>, <span class="number">64</span>, <span class="number">81</span>]</div></pre></td></tr></table></figure>
<p>It is equivalent to <code>squares = [x**2 for x in range(10)]</code></p>
<p>Various ways to iterate over sequences:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> item <span class="keyword">in</span> s                           <span class="comment"># iterate over the items of s</span></div><div class="line"><span class="keyword">for</span> item <span class="keyword">in</span> sorted(s)                   <span class="comment"># iterate over the items of s in order</span></div><div class="line"><span class="keyword">for</span> item <span class="keyword">in</span> set(s)                      <span class="comment"># iterate over unique elements of s</span></div><div class="line"><span class="keyword">for</span> item <span class="keyword">in</span> reversed(s)                 <span class="comment"># iterate over elements of s in reverse</span></div><div class="line"><span class="keyword">for</span> item <span class="keyword">in</span> set(s).difference(t)        <span class="comment"># iterate over elements of s not in t</span></div></pre></td></tr></table></figure>
<p>Given a sequence <code>s</code>, <code>enumerate(s)</code> returns pairs consisting of an index and the item at that index.</p>
<p><strong>sort</strong><br>Python list have a built-in <code>list.sort()</code> method that modifies the list in-place. There is also a <code>sorted()</code> built-in function that builds a new sorted list from an iterable.<br><code>sorted()</code> function returns a new sorted list. <code>list.sort()</code> modifies the list in-place (and returns <code>None</code> to avoid confusion). Usually it’s less convenient than <code>sorted()</code> - but if you don’t need the original list, it’s slightly more efficient.</p>
<p>Both <code>list.sort()</code>  and <code>sorted()</code> have a <em>key</em> parameter to specify a function to be called on each list element prior to making comparisons. A common pattern is to sort complex objects using some of the object’s indices as keys. The same technique works for objects with name attributes.<br>The key-function patterns are very common, and Python provides convenience functions to make accessor functions easier and faster. The <code>operator</code> module has <code>itemgetter()</code>, <code>attrgetter()</code> and a <code>methodcaller()</code> function.</p>
<p>Both <code>list.sort()</code> and <code>sorted()</code> accept a <em>reverse</em> parameter with a boolean value. This is used to flag descending sorts.</p>
<p>Sorts are guaranteed to be stable.<br><a href="https://docs.python.org/3/howto/sorting.html#sortinghowto" target="_blank" rel="external">Sorting HOWTO</a></p>
<h3 id="Tuples"><a href="#Tuples" class="headerlink" title="Tuples"></a>Tuples</h3><p>A tuple consists of a number of values separated by commas, and typically enclosed using parentheses.<br>Tuples are constructed using the comma operator. Parentheses are a more general feature of Python syntax, designed for grouping. A tuple containing a single element is defined by adding a trailing comma. The empty tuple is a special case, and is designed using empty parentheses<code>()</code>.</p>
<p><strong>Comparison with list</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Type</th>
<th>tuple</th>
<th>list</th>
</tr>
</thead>
<tbody>
<tr>
<td>Immutable</td>
<td>immutable</td>
<td>mutable</td>
</tr>
<tr>
<td>Element</td>
<td>heterogeneous</td>
<td>homogeneous</td>
</tr>
<tr>
<td>Access</td>
<td>unpacking/indexing</td>
<td>iterating</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Packing and Unpacking</strong><br>Packing<br><code>t = 12345, 54321, &#39;hello!&#39;</code> is an example of <em>tuple packing</em></p>
<p>Unpacking<br><code>x, y, z = t</code> is called <em>sequence unpacking</em> and works for any sequence on the right-hand side. Sequence unpacking requires that there are as many variables on the left side of the equals sign as there are elements in the sequence. Note that multiple assignment is really just a combination of tuple packing and sequence unpacking.</p>
<p><code>zip()</code> takes the items of two or more sequences and “zips” them together into a single list of tuples.<br>Introduction in <a href="https://docs.python.org/3.3/library/functions.html#zip" target="_blank" rel="external">documentation</a>: </p>
<blockquote>
<p>Make an iterator that aggregates elements from each of the iterables.<br>Returns an iterator of tuples, where the i-th tuple contains the i-th element from each of the argument sequences or iterables. The iterator stops when the shortest input iterable is exhausted.</p>
</blockquote>
<p>Therefore, if two (or more) items have diffrent lengths, the length of the tuple is only the shortest. The trailing will be discarded. (If those values are important, use <code>itertools.zip_longest()</code> instead.)</p>
<h3 id="Sets"><a href="#Sets" class="headerlink" title="Sets"></a>Sets</h3><p>A <em>set</em> is an unordered collection with no duplicate elements.<br>Curly braces <code>{}</code> or the <code>set()</code> function can be used to create sets.<br><code>set()</code> can be used to remove duplicated items in the list.</p>
<h3 id="Dictionaries"><a href="#Dictionaries" class="headerlink" title="Dictionaries"></a>Dictionaries</h3><p>Dictionaries are index by <em>keys</em>, which can be any immutable type; strings and numbers can always be keys. Tuples can be used as keys if they contain only strings, numbers, or tuples; if a tuple contains any mutable object either directly or indirectly, it cannot be used as a key. Since lists are mutable, lists can’t be used as keys as well.</p>
<p>The dictionary methods <code>keys()</code>, <code>values()</code> and <code>items()</code> allow us to access the keys, values, and key-value pairs. (The type is <code>dict_keys</code>, etc. Sometimes we have to convert to list before further processing).</p>
<p>Python’s Dictionary Methods: A summary of commonly-used methods and idioms involving dictionaries.<br><code>d = {}</code>: create an empty dictionary and assign it to <code>d</code><br><code>d[key] = value</code>: assign a value to a given dictionary key<br><code>d.keys()</code>: the list of keys of the dictionary<br><code>list(d)</code>: the list of keys of the dictionary<br><code>sorted(d)</code>: the keys of the dictionary, sorted<br><code>key in d</code>: test whether a particular key is in the dictionary<br><code>for key in d</code>: iterate over the keys of the dictionary<br><code>d.values()</code>: the list of values in the dictionary<br><code>dict([(k1,v1), (k2,v2), ...])</code>: create a dictionary from a list of key-value pairs<br><code>d1.update(d2)</code>: add all items from d2 to <code>d1</code><br><code>defaultdict(int)</code>: a dictionary whose default value is zero</p>
<p><strong>Default dictionary</strong><br>If we try to access a key that is not in a dictionary, we get an error. However, it’s often useful if a dictionary can automatically create an entry for this new key and give it a default value, such as zero or the empty list. For this reason, a special kind of dictionary called a <code>defaultdict</code> is available. In order to use it, we have to supply a parameter which can be used to create the default value, e.g. <code>int</code>, <code>float</code>, <code>str</code>, <code>list</code>, <code>dict</code>, <code>tuple</code>.<br>If the parameter is <code>None</code>, it’s just just like the original <code>dict</code>. And We can specify any default value we like using lambda expression.</p>
<h3 id="Some-advanced-data-structures"><a href="#Some-advanced-data-structures" class="headerlink" title="Some advanced data structures"></a>Some advanced data structures</h3><h4 id="Deque"><a href="#Deque" class="headerlink" title="Deque"></a>Deque</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</div><div class="line">deque([iterable[, maxlen]])</div></pre></td></tr></table></figure>
<p><a href="https://docs.python.org/3/library/collections.html#deque-objects" target="_blank" rel="external">Deques</a> are a generalization of stacks and queues. Deques support thread-safe, memory efficient appends and pops from either side of the deque with approximately the sam O(1) performance in either direction.<br>The constructor returns a new deque object initialized left-to-right with data from <em>iterable</em>.<br>If <em>iterable</em> is not specified, the new deque is empty.<br>If <em>maxlen</em> is not specified or is <code>None</code>, deques may grow to an arbitrary length. Otherwise, the deque is bounded to the specified maximum length. Once a bounded length deque is full, when new items are added, a corresponding number of items are discarded from the opposite end. (Can be used for keeping last N items)</p>
<p>Methods: <code>append()</code>, <code>appendleft()</code>, <code>pop()</code>, <code>popleft()</code>, etc.</p>
<h4 id="Heapq"><a href="#Heapq" class="headerlink" title="Heapq"></a>Heapq</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> heapq</div></pre></td></tr></table></figure>
<p>The module provides an implementation of the heap queue algorithm. The implementation uses arrays for which <code>heap[k] &lt;= heap[2*k+1]</code> and <code>heap[k] &lt;= heap[2*k+2]</code> for all k, counting elements from zero.<br>Python implementation uses zero-based indexing. This makes the relationship between the index for a node and the indices for its children slightly less obvious. And the pop method returns the smallest item.</p>
<p>Functions:<br><code>heapq.heappush(heap, item)</code>, <code>heapq.heappop(heap)</code>, <code>heapq.heapify(x)</code>, <code>heapq.nlargest(n, iterable, key=None)</code>, <code>heapq.nsmallest(n, iterable, key=None)</code>.<br>The latter two functions perform best for smaller values of n. For larger values, it is more efficient to use the <code>sorted()</code> function (with slicing). Also, when <code>n==1</code>, it is more efficient to use the built-in <code>min()</code> and <code>max()</code> functions.</p>
<h2 id="Modules"><a href="#Modules" class="headerlink" title="Modules"></a>Modules</h2><p>A <em>module</em> is a file containing Python definitions and statements. The file name is the module name with the suffix <code>.py</code> appended. Definitions from a module can be <em>imported</em> into other modules or into the <em>main</em> module (the collection of variables that you have access to in a script executed at the top level and in calculator mode). Within a module, the module’s name (as a string) is available as the value of the global variable <code>__name__</code>.</p>
<h2 id="Files"><a href="#Files" class="headerlink" title="Files"></a>Files</h2><h3 id="open"><a href="#open" class="headerlink" title="open"></a>open</h3><p><code>open(filename, mode)</code><br><code>open()</code> returns a file object. The first argument is a string containing the filename. The second argument is another string containing a few characters describing the way in which the file will be used. <em>mode</em> can be <code>&#39;r&#39;</code> when the file will only be read, <code>&#39;w&#39;</code> for only writing (an existing file with the same name will be erased), and <code>&#39;a&#39;</code> opens the file for appending; any data written to the file is automatically added to the end. <code>&#39;r+&#39;</code> opens the file for both reading and writing. The mode argument is optional; <code>&#39;r&#39;</code> will be assumed if it’s omitted.</p>
<p>It is good practice to use the <code>with</code> keyword when dealing with file objects. (similar to <code>with tf.Session() as sess:</code> in TensorFlow). The advantage is that the file is properly closed after its suite finishes, even if an exception is raised at some point. Using with is also much shorter than writing equivalent try-finally blocks:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">with</span> open(<span class="string">'workfile'</span>) <span class="keyword">as</span> f:</div><div class="line"><span class="meta">... </span>    read_data = f.read()</div></pre></td></tr></table></figure>
<p>If not using <code>with</code> keyword, just call <code>f.close()</code> to close the file and immediately free up any system resources used by it. </p>
<h3 id="read-amp-write"><a href="#read-amp-write" class="headerlink" title="read &amp; write"></a>read &amp; write</h3><p><code>f.read(size)</code><br>Reads some quantity of data and returns it as a string (in text mode) or bytes object(in binary mode). <em>size</em> is an optional numeric argument. When <em>size</em> is omitted or negative, the entire contents of the file will be read and returned. Otherwise, at most <em>size</em> bytes are read and returned. If the end of the file has been reached, <code>f.read()</code> will return an empty string(<code>&#39;&#39;</code>).</p>
<p><code>f.readline()</code><br>Reads a single line from the file; a newline character(<code>\n</code>) is left at the end of the string, and is only omitted on the last line of the file if the file doesn’t end in a newline. This makes the return value unambiguous: if <code>f.readline()</code> returns an empty string, the end of the file has been reached, while a blank line is represented by <code>&#39;\n&#39;</code>, a string containing only a single newline.</p>
<p>Looping over the file object:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> line <span class="keyword">in</span> f:</div><div class="line"><span class="meta">... </span>    print(line, end=<span class="string">''</span>)</div></pre></td></tr></table></figure>
<p>Read all the lines of a file in a list: <code>list(f)</code> or <code>f.readlines()</code>.</p>
<p><code>f.write(string)</code> writes the contents of string to the file, returning the number of characters written. Other types of objects need to be converted - either to a string (in text mode) or a bytes object (in binary mode) - before writing them.</p>
<h2 id="Exceptions"><a href="#Exceptions" class="headerlink" title="Exceptions"></a>Exceptions</h2><p>Errors detected during execution are called <em>exceptions</em>.<br>Exceptions come in different types, and the type is printed as part of the message. The string printed as the exception type is the name of the built-in exception that occurred.(true for all built-in exceptions, but need not be true for user-defined exceptions) </p>
<p>All built-in exceptions are listed <a href="https://docs.python.org/3/library/exceptions.html#bltin-exceptions" target="_blank" rel="external">here</a></p>
<h3 id="Handling-Exceptions"><a href="#Handling-Exceptions" class="headerlink" title="Handling Exceptions"></a>Handling Exceptions</h3><p>The <code>try</code> statement works as follows.</p>
<ul>
<li>First, the <em>try clause</em> is executed.</li>
<li>If no exceptions occurs, the <em>except clause</em> is skipped and execution of the <code>try</code> statement is finished.</li>
<li>If an exception occurs during execution of the try clause, the rest of the clause is skipped. Then if its type matches the exception named after the <code>except</code> keyword, the except clause is executed, and then execution continues after the <code>try</code> statement.</li>
<li>If an exception occurs which does not match the exception named in the except clause, it is passed on to outer <code>try</code> statements; if no handlers is found, it is an <em>unhandled exception</em> and execution stops with a message.</li>
</ul>
<p>A <code>try</code> statement may have more than one except clause, to specify handlers for different exceptions. At most one handler will be executed. Handlers only handle exceptions that occur in the corresponding try clause, not in other handlers of the same try statement. An except clause may name multiple exceptions as a parenthesized tuple.</p>
<h2 id="Objects"><a href="#Objects" class="headerlink" title="Objects"></a>Objects</h2><p>Assignment always copies the value of an expression, but a value is not always what you might expect it to be. In particular, the “value” of a structured object such as a list is actually just a <em>reference</em> to the object.<br>Python provides two ways to check that a pair of items are the same. <code>==</code> and <code>is</code>. The <code>is</code> operator tests for object identity.<br>We can use <code>id()</code> function to find out the numerical identifier for any object.</p>
<h2 id="Some-tips"><a href="#Some-tips" class="headerlink" title="Some tips"></a>Some tips</h2><h3 id="The-Zen-of-Python"><a href="#The-Zen-of-Python" class="headerlink" title="The Zen of Python"></a>The Zen of Python</h3><p><code>import this</code></p>
<blockquote>
<p>The Zen of Python, by Tim Peters</p>
<p>Beautiful is better than ugly.<br>Explicit is better than implicit.<br>Simple is better than complex.<br>Complex is better than complicated.<br>Flat is better than nested.<br>Sparse is better than dense.<br>Readability counts.<br>Special cases aren’t special enough to break the rules.<br>Although practicality beats purity.<br>Errors should never pass silently.<br>Unless explicitly silenced.<br>In the face of ambiguity, refuse the temptation to guess.<br>There should be one— and preferably only one —obvious way to do it.<br>Although that way may not be obvious at first unless you’re Dutch.<br>Now is better than never.<br>Although never is often better than <em>right</em> now.<br>If the implementation is hard to explain, it’s a bad idea.<br>If the implementation is easy to explain, it may be a good idea.<br>Namespaces are one honking great idea — let’s do more of those!</p>
</blockquote>
<hr>
<p>The keyword argument <code>end</code> can be used to avoid the newline after the output, or end the output with a different string.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>a, b = <span class="number">0</span>, <span class="number">1</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">while</span> b &lt; <span class="number">1000</span>:</div><div class="line"><span class="meta">... </span>    print(b, end=<span class="string">','</span>)</div><div class="line"><span class="meta">... </span>    a, b = b, a+b</div><div class="line">...</div><div class="line"><span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">13</span>,<span class="number">21</span>,<span class="number">34</span>,<span class="number">55</span>,<span class="number">89</span>,<span class="number">144</span>,<span class="number">233</span>,<span class="number">377</span>,<span class="number">610</span>,<span class="number">987</span>,</div></pre></td></tr></table></figure>
<hr>
<p><code>in</code> keyword tests whether or not a sequence contains a certain value.</p>
<hr>
<p>The square brackets in the method signature denote that the parameter is optional, not that you should type square brackets at that position. This is frequent in the Python Library Reference.</p>
<hr>
<h3 id="Looping-Techniques"><a href="#Looping-Techniques" class="headerlink" title="Looping Techniques"></a>Looping Techniques</h3><p>When looping through dictionaries, the key and corresponding value can be retrieved at the same time using the <code>items()</code> method.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>knights = &#123;<span class="string">'gallahad'</span>: <span class="string">'the pure'</span>, <span class="string">'robin'</span>: <span class="string">'the brave'</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> k, v <span class="keyword">in</span> knights.items():</div><div class="line"><span class="meta">... </span>    print(k, v)</div><div class="line">...</div></pre></td></tr></table></figure>
<p>When looping through a sequence, the position index and corresponding value can be retrieved at the same time using the <code>enumerate()</code> function.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i, v <span class="keyword">in</span> enumerate([<span class="string">'tic'</span>, <span class="string">'tac'</span>, <span class="string">'toe'</span>]):</div><div class="line"><span class="meta">... </span>    print(i, v)</div><div class="line">...</div><div class="line"><span class="number">0</span> tic</div><div class="line"><span class="number">1</span> tac</div><div class="line"><span class="number">2</span> toe</div></pre></td></tr></table></figure>
<p>To loop over two or more sequence at the same time, the entries can be paired with the <code>zip()</code> function.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>questions = [<span class="string">'name'</span>, <span class="string">'quest'</span>, <span class="string">'favorite color'</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>answers = [<span class="string">'lancelot'</span>, <span class="string">'the holy grail'</span>, <span class="string">'blue'</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> q, a <span class="keyword">in</span> zip(questions, answers):</div><div class="line"><span class="meta">... </span>    print(<span class="string">'What is your &#123;0&#125;?  It is &#123;1&#125;.'</span>.format(q, a))</div><div class="line">...</div><div class="line">What is your name?  It is lancelot.</div><div class="line">What is your quest?  It is the holy grail.</div><div class="line">What is your favorite color?  It is blue.</div></pre></td></tr></table></figure>
<p>To loop over a sequence in reverse, first specify the sequence in a forward direction and then call the <code>reversed()</code> function.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> reversed(range(<span class="number">1</span>, <span class="number">10</span>, <span class="number">2</span>)):</div><div class="line"><span class="meta">... </span>    print(i)</div><div class="line">...</div></pre></td></tr></table></figure>
<p>To loop over a sequence in sorted order, use the <code>sorted()</code> function which returns a new sorted list while leaving the source unaltered.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>basket = [<span class="string">'apple'</span>, <span class="string">'orange'</span>, <span class="string">'apple'</span>, <span class="string">'pear'</span>, <span class="string">'orange'</span>, <span class="string">'banana'</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> f <span class="keyword">in</span> sorted(set(basket)):</div><div class="line"><span class="meta">... </span>    print(f)</div><div class="line">...</div></pre></td></tr></table></figure>
<h3 id="Eval"><a href="#Eval" class="headerlink" title="Eval"></a>Eval</h3><p><a href="https://docs.python.org/3/library/functions.html#eval" target="_blank" rel="external">Eval: Built-in Function</a><br>The return value is the result of the evaluated expression. Syntax errors are reported as exceptions.<br>This function can also be used to execute arbitrary code objects (such as those created by <code>compile()</code>). In this case pass a code object instead of a string.</p>
<h3 id="Split-with-multiple-delimiters"><a href="#Split-with-multiple-delimiters" class="headerlink" title="Split with multiple delimiters"></a>Split with multiple delimiters</h3><p>See my post <a href="http://haelchan.me/2018/05/23/regular-expression/">Regular Expression</a>.</p>
<h3 id="Execution-time-measurement"><a href="#Execution-time-measurement" class="headerlink" title="Execution time measurement"></a>Execution time measurement</h3><p><strong>Measure execution time of small code snippets</strong><br><a href="https://docs.python.org/3.7/library/timeit.html?highlight=timer" target="_blank" rel="external">timeit</a><br><code>timeit</code> provides a simple way to time small bits of Python code.<br>Command-Line Interface:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ python3 -m timeit &apos;&quot;-&quot;.join(str(n) for n in range(100))&apos;</div><div class="line">10000 loops, best of 5: 30.2 usec per loop</div><div class="line">$ python3 -m timeit &apos;&quot;-&quot;.join([str(n) for n in range(100)])&apos;</div><div class="line">10000 loops, best of 5: 27.5 usec per loop</div><div class="line">$ python3 -m timeit &apos;&quot;-&quot;.join(map(str, range(100)))&apos;</div><div class="line">10000 loops, best of 5: 23.2 usec per loop</div></pre></td></tr></table></figure>
<p>Python Interface:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> timeit</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>timeit.timeit(<span class="string">'"-".join(str(n) for n in range(100))'</span>, number=<span class="number">10000</span>)</div><div class="line"><span class="number">0.3018611848820001</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>timeit.timeit(<span class="string">'"-".join([str(n) for n in range(100)])'</span>, number=<span class="number">10000</span>)</div><div class="line"><span class="number">0.2727368790656328</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>timeit.timeit(<span class="string">'"-".join(map(str, range(100)))'</span>, number=<span class="number">10000</span>)</div><div class="line"><span class="number">0.23702679807320237</span></div></pre></td></tr></table></figure>
<p>(In NLTK, it is introduced to use <code>timeit.Timer</code>, but that’s not necessary. <code>timeit.timeit()</code> will automatically create a Timer instance.)<br><code>timeit.timeit(stmt=&#39;pass&#39;, setup=&#39;pass&#39;, timer=&lt;default timer&gt;, number=1000000, globals=None)</code></p>
<p>The <code>global</code> parameter is new in Python 3.5. Passing <code>globals()</code> to the <em>global</em> parameter will cause the code to be executed within the current global namespcae. This can be more convenient than individually specifying imports.</p>
<p><strong>General</strong><br><a href="https://docs.python.org/3.7/library/time.html?highlight=timer#time.process_time" target="_blank" rel="external">https://docs.python.org/3.7/library/time.html?highlight=timer#time.process_time</a><br>Use <code>time.process_time()</code> method (which is new in Python 3.3) to record the beginning and end time. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> time</div><div class="line">start = time.process_time()</div><div class="line"><span class="comment"># code execution</span></div><div class="line">end = time.process_time()</div><div class="line">print(end - start)</div></pre></td></tr></table></figure>
<p>And for accuracy, Python 3.7 introduces <code>process_time_ns()</code> which return time as nanoseconds.</p>
<h3 id="Python-2-to-3"><a href="#Python-2-to-3" class="headerlink" title="Python 2 to 3"></a>Python 2 to 3</h3><p>2to3 is a Python program that reads Python 2.x source code and applies a series of fixers to transform it into valid Python 3.x code. 2to3 will usually be installed with the Python interpreter as a script.<br>2to3’s basic arguments are a list of files or directories to transform.<br><code>2to3 example.py</code><br>A diff against the original source file is printed. 2to3 can also write the needed modifications right back to the source file. Writing the changes back is enabled with the <em>-w</em> flag:<br><code>2to3 -w example.py</code><br><a href="https://docs.python.org/3.1/library/2to3.html" target="_blank" rel="external">2to3 document</a></p>
<h2 id="Something-to-be-detailed"><a href="#Something-to-be-detailed" class="headerlink" title="Something to be detailed"></a>Something to be detailed</h2><p>Here stores something that is introduced in tutorial briefly, waiting to be discussed in detail in the future.</p>
<p><strong>Arbitrary Argument Lists and Unpacking Argument Lists</strong><br>Introduced in Section 4.7, </p>
<p><strong>Method</strong><br>A method is a function that ‘belongs’ to an object and is named obj.methodname, where obj is some object (this may be an expression), and methodname is the name of a method that is defined by the object’s type. Different types define different methods. Methods of different types may have the same name without causing ambiguity.</p>
<p><strong>Lambda Expressions</strong><br>Small anonymous functions can be created with the <code>lambda</code> keyword. This function returns the sum of its two arguments: <code>lambda a, b: a+b</code>. Lambda functions can be used wherever function objects are required. They are syntactically restricted to a single expression. Semantically, they are just syntactic sugar for a normal function definition. Like nested function definitions, lambda functions can reference variables from the containing scope:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">make_incrementor</span><span class="params">(n)</span>:</span></div><div class="line"><span class="meta">... </span>    <span class="keyword">return</span> <span class="keyword">lambda</span> x: x + n</div><div class="line">...</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>f = make_incrementor(<span class="number">42</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>f(<span class="number">0</span>)</div><div class="line"><span class="number">42</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>f(<span class="number">1</span>)</div><div class="line"><span class="number">43</span></div></pre></td></tr></table></figure>
<p><strong>The del statement</strong><br>Remove an item from a list given its index instead of its value. The <code>del</code> statement can also be used to remove slices from a list or clear the entire list.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">-1</span>, <span class="number">1</span>, <span class="number">66.25</span>, <span class="number">333</span>, <span class="number">333</span>, <span class="number">1234.5</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">del</span> a[<span class="number">0</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a</div><div class="line">[<span class="number">1</span>, <span class="number">66.25</span>, <span class="number">333</span>, <span class="number">333</span>, <span class="number">1234.5</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">del</span> a[<span class="number">2</span>:<span class="number">4</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a</div><div class="line">[<span class="number">1</span>, <span class="number">66.25</span>, <span class="number">1234.5</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">del</span> a[:]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a</div><div class="line">[]</div></pre></td></tr></table></figure>
<p><code>del</code> can also be used to delete entire variables.<br><code>del</code> can delete a key:value pair in dict, the parameter is just dict’s key.</p>

      
    </div>
    
    
    

    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:</strong>
    Hael Chan
  </li>
  <li class="post-copyright-link">
    <strong>Post link:</strong>
    <a href="http://haelchan.me/2018/02/07/python-learning/" title="Python Learning">http://haelchan.me/2018/02/07/python-learning/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice: </strong>
    All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> unless stating additionally.
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/learning-note/" rel="tag"># learning note</a>
          
            <a href="/tags/Python/" rel="tag"># Python</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/01/01/hello-2018/" rel="next" title="再见2017 你好2018">
                <i class="fa fa-chevron-left"></i> 再见2017 你好2018
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/02/18/deep-learning-note/" rel="prev" title="deep-learning-note">
                deep-learning-note <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div>
  


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="Hael Chan" />
            
              <p class="site-author-name" itemprop="name">Hael Chan</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/haelchan" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:f.procumbens@gmail.com" target="_blank" title="E-Mail">
                    
                      <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://twitter.com/Procumbens" target="_blank" title="Twitter">
                    
                      <i class="fa fa-fw fa-twitter"></i>Twitter</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.zhihu.com/people/hael-c/activities" target="_blank" title="知乎">
                    
                      <i class="fa fa-fw fa-compass"></i>知乎</a>
                </span>
              
            
          </div>

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-globe"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://learnerwn.github.io" title="WN_Blog" target="_blank">WN_Blog</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://hey-yahei.cn" title="YaHei" target="_blank">YaHei</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://ruder.io" title="Sebastian Ruder" target="_blank">Sebastian Ruder</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://godweiyang.com" title="WeiYang Blog" target="_blank">WeiYang Blog</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.linzehui.me" title="Weekly Review" target="_blank">Weekly Review</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Foreword"><span class="nav-number">1.</span> <span class="nav-text">Foreword</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#What"><span class="nav-number">1.1.</span> <span class="nav-text">What</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Why"><span class="nav-number">1.2.</span> <span class="nav-text">Why</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#How"><span class="nav-number">1.3.</span> <span class="nav-text">How</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#When"><span class="nav-number">1.4.</span> <span class="nav-text">When</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Basics"><span class="nav-number">2.</span> <span class="nav-text">Basics</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Interactive-Mode-amp-Executable-mode"><span class="nav-number">2.1.</span> <span class="nav-text">Interactive Mode & Executable mode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Comment-amp-Prompt"><span class="nav-number">2.2.</span> <span class="nav-text">Comment & Prompt</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Input-and-Output"><span class="nav-number">2.3.</span> <span class="nav-text">Input and Output</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#format"><span class="nav-number">2.3.1.</span> <span class="nav-text">format</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Coding-Style"><span class="nav-number">2.4.</span> <span class="nav-text">Coding Style</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Number"><span class="nav-number">2.5.</span> <span class="nav-text">Number</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Conditions"><span class="nav-number">2.6.</span> <span class="nav-text">Conditions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Strings"><span class="nav-number">2.7.</span> <span class="nav-text">Strings</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Control-Flow"><span class="nav-number">2.8.</span> <span class="nav-text">Control Flow</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Functions"><span class="nav-number">2.9.</span> <span class="nav-text">Functions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Data-Structures"><span class="nav-number">3.</span> <span class="nav-text">Data Structures</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Lists"><span class="nav-number">3.1.</span> <span class="nav-text">Lists</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tuples"><span class="nav-number">3.2.</span> <span class="nav-text">Tuples</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sets"><span class="nav-number">3.3.</span> <span class="nav-text">Sets</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Dictionaries"><span class="nav-number">3.4.</span> <span class="nav-text">Dictionaries</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Some-advanced-data-structures"><span class="nav-number">3.5.</span> <span class="nav-text">Some advanced data structures</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Deque"><span class="nav-number">3.5.1.</span> <span class="nav-text">Deque</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Heapq"><span class="nav-number">3.5.2.</span> <span class="nav-text">Heapq</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Modules"><span class="nav-number">4.</span> <span class="nav-text">Modules</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Files"><span class="nav-number">5.</span> <span class="nav-text">Files</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#open"><span class="nav-number">5.1.</span> <span class="nav-text">open</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#read-amp-write"><span class="nav-number">5.2.</span> <span class="nav-text">read & write</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Exceptions"><span class="nav-number">6.</span> <span class="nav-text">Exceptions</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Handling-Exceptions"><span class="nav-number">6.1.</span> <span class="nav-text">Handling Exceptions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Objects"><span class="nav-number">7.</span> <span class="nav-text">Objects</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Some-tips"><span class="nav-number">8.</span> <span class="nav-text">Some tips</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Zen-of-Python"><span class="nav-number">8.1.</span> <span class="nav-text">The Zen of Python</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Looping-Techniques"><span class="nav-number">8.2.</span> <span class="nav-text">Looping Techniques</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Eval"><span class="nav-number">8.3.</span> <span class="nav-text">Eval</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Split-with-multiple-delimiters"><span class="nav-number">8.4.</span> <span class="nav-text">Split with multiple delimiters</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Execution-time-measurement"><span class="nav-number">8.5.</span> <span class="nav-text">Execution time measurement</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Python-2-to-3"><span class="nav-number">8.6.</span> <span class="nav-text">Python 2 to 3</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Something-to-be-detailed"><span class="nav-number">9.</span> <span class="nav-text">Something to be detailed</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hael Chan</span>

  
</div>









<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<span id="busuanzi_container_site_uv">
  欢迎~您是本站的第<span id="busuanzi_value_site_uv"></span>位访客
</span>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  

    
      <script id="dsq-count-scr" src="https://hael.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://haelchan.me/2018/02/07/python-learning/';
          this.page.identifier = '2018/02/07/python-learning/';
          this.page.title = 'Python Learning';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://hael.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  










  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'manual') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("3HhWLTewaKTSPj5DC3qp5b2m-gzGzoHsz", "zjxN2hpHQEmyMaz0XBicI3bn");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  


  

  

</body>
</html>
